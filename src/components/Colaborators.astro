---
interface Colaborator { login: string, html_url: string, avatar_url: string };
import { Card, CardGrid } from '@astrojs/starlight/components';

const response = await fetch('https://api.github.com/repos/Nelson-5553/pydocs/contributors');
const contributors = await response.json();
---

<CardGrid>
  {
    contributors
      .map((contributors: Colaborator) => (
        <Card title={contributors.login}>
          <div class="flex items-center gap-6 flex-col sm:flex-row">
            <img
              src={contributors.avatar_url}
              alt={contributors.login}
              class="w-[90px] h-[90px] sm:w-[130px] sm:h-[130px] rounded-full border-2 border-[#306998] dark:border-[#FFD43B]"
            />
            <div>
              <div class="text-[0.98em] mb-1 dark:text-[#FFD43B]">
                Contributions:
              </div>
              <div class="flex flex-wrap gap-y-2 gap-x-3 mb-2 max-w-[220px] sm:max-w-full">
                {contributors.login === "Nelson-5553" && (
                  <>
                    <span class="inline-block bg-[#306998] text-white dark:bg-[#FFD43B] dark:text-[#22223b] rounded-full px-3 py-[0.2em] text-sm font-semibold">
                      Developer
                    </span>
                    <span class="inline-block bg-[#306998] text-white dark:bg-[#FFD43B] dark:text-[#22223b] rounded-full px-3 py-[0.2em] text-sm font-semibold">
                      Documentation
                    </span>
                  </>
                )}
                {contributors.login === "serg1l" && (
                  <>
                    <span class="inline-block bg-[#306998] text-white dark:bg-[#FFD43B] dark:text-[#22223b] rounded-full px-3 py-[0.2em] text-sm font-semibold">
                      Developer
                    </span>
                    <span class="inline-block bg-[#306998] text-white dark:bg-[#FFD43B] dark:text-[#22223b] rounded-full px-3 py-[0.2em] text-sm font-semibold">
                      Translator
                    </span>
                  </>
                )}
                {contributors.login !== "Nelson-5553" && contributors.login !== "serg1l" && (
                  <span class="inline-block bg-[#306998] text-white dark:bg-[#FFD43B] dark:text-[#22223b] rounded-full px-3 py-[0.2em] text-sm font-semibold">
                    Developer
                  </span>
                )}
              </div>
              <div class="mt-2">
                <a
                  href={contributors.html_url}
                  target="_blank"
                  class="text-[#306998] dark:text-[#FFD43B] underline text-sm transition-colors duration-300 hover:text-opacity-80"
                >
                  GitHub
                </a>
              </div>
            </div>
          </div>
        </Card>
      ))
  }
</CardGrid>
